fedora

fedora 42_Beta Budgie:               https://download.fedoraproject.org/pub/fedora/linux/releases/test/42_Beta/Spins/x86_64/iso/Fedora-Budgie-Live-42_Beta-1.4.x86_64.iso
fedora 42_Beta COSMIC:               https://download.fedoraproject.org/pub/fedora/linux/releases/test/42_Beta/Spins/x86_64/iso/Fedora-COSMIC-Live-42_Beta-1.4.x86_64.iso
fedora 42_Beta Cinnamon:             https://download.fedoraproject.org/pub/fedora/linux/releases/test/42_Beta/Spins/x86_64/iso/Fedora-Cinnamon-Live-x86_64-42_Beta-1.4.iso
fedora 42_Beta KDE:                  
fedora 42_Beta KDE_Mobile:           https://download.fedoraproject.org/pub/fedora/linux/releases/test/42_Beta/Spins/x86_64/iso/Fedora-KDE-Mobile-Live-42_Beta-1.4.x86_64.iso
fedora 42_Beta Kinoite:              https://download.fedoraproject.org/pub/fedora/linux/releases/test/42_Beta/Kinoite/x86_64/iso/Fedora-Kinoite-ostree-x86_64-42_Beta-1.4.iso
fedora 42_Beta LXDE:                 https://download.fedoraproject.org/pub/fedora/linux/releases/test/42_Beta/Spins/x86_64/iso/Fedora-LXDE-Live-x86_64-42_Beta-1.4.iso
fedora 42_Beta LXQt:                 https://download.fedoraproject.org/pub/fedora/linux/releases/test/42_Beta/Spins/x86_64/iso/Fedora-LXQt-Live-42_Beta-1.4.x86_64.iso
fedora 42_Beta Mate:                 https://download.fedoraproject.org/pub/fedora/linux/releases/test/42_Beta/Spins/x86_64/iso/Fedora-MATE_Compiz-Live-x86_64-42_Beta-1.4.iso
fedora 42_Beta MiracleWM:            https://download.fedoraproject.org/pub/fedora/linux/releases/test/42_Beta/Spins/x86_64/iso/Fedora-MiracleWM-Live-42_Beta-1.4.x86_64.iso
fedora 42_Beta Onyx:                 https://download.fedoraproject.org/pub/fedora/linux/releases/test/42_Beta/Onyx/x86_64/iso/Fedora-Onyx-ostree-x86_64-42_Beta-1.4.iso
fedora 42_Beta Sericea:              https://download.fedoraproject.org/pub/fedora/linux/releases/test/42_Beta/Sericea/x86_64/iso/Fedora-Sericea-ostree-x86_64-42_Beta-1.4.iso
fedora 42_Beta Server:               https://download.fedoraproject.org/pub/fedora/linux/releases/test/42_Beta/Server/x86_64/iso/Fedora-Server-dvd-x86_64-42_Beta-1.4.iso
fedora 42_Beta Silverblue:           https://download.fedoraproject.org/pub/fedora/linux/releases/test/42_Beta/Silverblue/x86_64/iso/Fedora-Silverblue-ostree-x86_64-42_Beta-1.4.iso
fedora 42_Beta Sway:                 https://download.fedoraproject.org/pub/fedora/linux/releases/test/42_Beta/Spins/x86_64/iso/Fedora-Sway-Live-x86_64-42_Beta-1.4.iso
fedora 42_Beta Workstation:          https://download.fedoraproject.org/pub/fedora/linux/releases/test/42_Beta/Workstation/x86_64/iso/Fedora-Workstation-Live-42_Beta-1.4.x86_64.iso
fedora 42_Beta Xfce:                 https://download.fedoraproject.org/pub/fedora/linux/releases/test/42_Beta/Spins/x86_64/iso/Fedora-Xfce-Live-42_Beta-1.4.x86_64.iso
fedora 42_Beta i3:                   https://download.fedoraproject.org/pub/fedora/linux/releases/test/42_Beta/Spins/x86_64/iso/Fedora-i3-Live-x86_64-42_Beta-1.4.iso
fedora 41 Budgie:                    https://download.fedoraproject.org/pub/fedora/linux/releases/41/Spins/x86_64/iso/Fedora-Budgie-Live-x86_64-41-1.4.iso
fedora 41 Cinnamon:                  https://download.fedoraproject.org/pub/fedora/linux/releases/41/Spins/x86_64/iso/Fedora-Cinnamon-Live-x86_64-41-1.4.iso
fedora 41 KDE:                       https://download.fedoraproject.org/pub/fedora/linux/releases/41/Spins/x86_64/iso/Fedora-KDE-Live-x86_64-41-1.4.iso
fedora 41 KDE_Mobile:                https://download.fedoraproject.org/pub/fedora/linux/releases/41/Spins/x86_64/iso/Fedora-KDE-Mobile-Live-41-1.4.x86_64.iso
fedora 41 Kinoite:                   https://download.fedoraproject.org/pub/fedora/linux/releases/41/Kinoite/x86_64/iso/Fedora-Kinoite-ostree-x86_64-41-1.4.iso
fedora 41 LXDE:                      https://download.fedoraproject.org/pub/fedora/linux/releases/41/Spins/x86_64/iso/Fedora-LXDE-Live-x86_64-41-1.4.iso
fedora 41 LXQt:                      https://download.fedoraproject.org/pub/fedora/linux/releases/41/Spins/x86_64/iso/Fedora-LXQt-Live-x86_64-41-1.4.iso
fedora 41 Mate:                      https://download.fedoraproject.org/pub/fedora/linux/releases/41/Spins/x86_64/iso/Fedora-MATE_Compiz-Live-x86_64-41-1.4.iso
fedora 41 MiracleWM:                 https://download.fedoraproject.org/pub/fedora/linux/releases/41/Spins/x86_64/iso/Fedora-MiracleWM-Live-41-1.4.x86_64.iso
fedora 41 Onyx:                      https://download.fedoraproject.org/pub/fedora/linux/releases/41/Onyx/x86_64/iso/Fedora-Onyx-ostree-x86_64-41-1.4.iso
fedora 41 Sericea:                   https://download.fedoraproject.org/pub/fedora/linux/releases/41/Sericea/x86_64/iso/Fedora-Sericea-ostree-x86_64-41-1.4.iso
fedora 41 Server:                    https://download.fedoraproject.org/pub/fedora/linux/releases/41/Server/x86_64/iso/Fedora-Server-dvd-x86_64-41-1.4.iso
fedora 41 Silverblue:                https://download.fedoraproject.org/pub/fedora/linux/releases/41/Silverblue/x86_64/iso/Fedora-Silverblue-ostree-x86_64-41-1.4.iso
fedora 41 Sway:                      https://download.fedoraproject.org/pub/fedora/linux/releases/41/Spins/x86_64/iso/Fedora-Sway-Live-x86_64-41-1.4.iso
fedora 41 Workstation:               https://download.fedoraproject.org/pub/fedora/linux/releases/41/Workstation/x86_64/iso/Fedora-Workstation-Live-x86_64-41-1.4.iso
fedora 41 Xfce:                      https://download.fedoraproject.org/pub/fedora/linux/releases/41/Spins/x86_64/iso/Fedora-Xfce-Live-x86_64-41-1.4.iso
fedora 41 i3:                        https://download.fedoraproject.org/pub/fedora/linux/releases/41/Spins/x86_64/iso/Fedora-i3-Live-x86_64-41-1.4.iso
fedora 40 Budgie:                    https://download.fedoraproject.org/pub/fedora/linux/releases/40/Spins/x86_64/iso/Fedora-Budgie-Live-x86_64-40-1.14.iso
fedora 40 Cinnamon:                  https://download.fedoraproject.org/pub/fedora/linux/releases/40/Spins/x86_64/iso/Fedora-Cinnamon-Live-x86_64-40-1.14.iso
fedora 40 KDE:                       https://download.fedoraproject.org/pub/fedora/linux/releases/40/Spins/x86_64/iso/Fedora-KDE-Live-x86_64-40-1.14.iso
fedora 40 Kinoite:                   https://download.fedoraproject.org/pub/fedora/linux/releases/40/Kinoite/x86_64/iso/Fedora-Kinoite-ostree-x86_64-40-1.14.iso
fedora 40 LXDE:                      https://download.fedoraproject.org/pub/fedora/linux/releases/40/Spins/x86_64/iso/Fedora-LXDE-Live-x86_64-40-1.14.iso
fedora 40 LXQt:                      https://download.fedoraproject.org/pub/fedora/linux/releases/40/Spins/x86_64/iso/Fedora-LXQt-Live-x86_64-40-1.14.iso
fedora 40 Mate:                      https://download.fedoraproject.org/pub/fedora/linux/releases/40/Spins/x86_64/iso/Fedora-MATE_Compiz-Live-x86_64-40-1.14.iso
fedora 40 Onyx:                      https://download.fedoraproject.org/pub/fedora/linux/releases/40/Onyx/x86_64/iso/Fedora-Onyx-ostree-x86_64-40-1.14.iso
fedora 40 Sericea:                   https://download.fedoraproject.org/pub/fedora/linux/releases/40/Sericea/x86_64/iso/Fedora-Sericea-ostree-x86_64-40-1.14.iso
fedora 40 Server:                    https://download.fedoraproject.org/pub/fedora/linux/releases/40/Server/x86_64/iso/Fedora-Server-dvd-x86_64-40-1.14.iso
fedora 40 Silverblue:                https://download.fedoraproject.org/pub/fedora/linux/releases/40/Silverblue/x86_64/iso/Fedora-Silverblue-ostree-x86_64-40-1.14.iso
fedora 40 Sway:                      https://download.fedoraproject.org/pub/fedora/linux/releases/40/Spins/x86_64/iso/Fedora-Sway-Live-x86_64-40-1.14.iso
fedora 40 Workstation:               https://download.fedoraproject.org/pub/fedora/linux/releases/40/Workstation/x86_64/iso/Fedora-Workstation-Live-osb-40-1.14.x86_64.iso
fedora 40 Xfce:                      https://download.fedoraproject.org/pub/fedora/linux/releases/40/Spins/x86_64/iso/Fedora-Xfce-Live-x86_64-40-1.14.iso
fedora 40 i3:                        https://download.fedoraproject.org/pub/fedora/linux/releases/40/Spins/x86_64/iso/Fedora-i3-Live-x86_64-40-1.14.iso
fedora 39 Budgie:                    https://download.fedoraproject.org/pub/fedora/linux/releases/39/Spins/x86_64/iso/Fedora-Budgie-Live-x86_64-39-1.5.iso
fedora 39 Cinnamon:                  https://download.fedoraproject.org/pub/fedora/linux/releases/39/Spins/x86_64/iso/Fedora-Cinnamon-Live-x86_64-39-1.5.iso
fedora 39 KDE:                       https://download.fedoraproject.org/pub/fedora/linux/releases/39/Spins/x86_64/iso/Fedora-KDE-Live-x86_64-39-1.5.iso
fedora 39 Kinoite:                   https://download.fedoraproject.org/pub/fedora/linux/releases/39/Kinoite/x86_64/iso/Fedora-Kinoite-ostree-x86_64-39-1.5.iso
fedora 39 LXDE:                      https://download.fedoraproject.org/pub/fedora/linux/releases/39/Spins/x86_64/iso/Fedora-LXDE-Live-x86_64-39-1.5.iso
fedora 39 LXQt:                      https://download.fedoraproject.org/pub/fedora/linux/releases/39/Spins/x86_64/iso/Fedora-LXQt-Live-x86_64-39-1.5.iso
fedora 39 Mate:                      https://download.fedoraproject.org/pub/fedora/linux/releases/39/Spins/x86_64/iso/Fedora-MATE_Compiz-Live-x86_64-39-1.5.iso
fedora 39 Server:                    https://download.fedoraproject.org/pub/fedora/linux/releases/39/Server/x86_64/iso/Fedora-Server-dvd-x86_64-39-1.5.iso
fedora 39 Silverblue:                https://download.fedoraproject.org/pub/fedora/linux/releases/39/Silverblue/x86_64/iso/Fedora-Silverblue-ostree-x86_64-39-1.5.iso
fedora 39 Sway:                      https://download.fedoraproject.org/pub/fedora/linux/releases/39/Spins/x86_64/iso/Fedora-Sway-Live-x86_64-39-1.5.iso
fedora 39 Workstation:               https://download.fedoraproject.org/pub/fedora/linux/releases/39/Workstation/x86_64/iso/Fedora-Workstation-Live-x86_64-39-1.5.iso
fedora 39 Xfce:                      https://download.fedoraproject.org/pub/fedora/linux/releases/39/Spins/x86_64/iso/Fedora-Xfce-Live-x86_64-39-1.5.iso
fedora 39 i3:                        https://download.fedoraproject.org/pub/fedora/linux/releases/39/Spins/x86_64/iso/Fedora-i3-Live-x86_64-39-1.5.iso

# Template file for 'fedora'
OSNAME="fedora"
PRETTY="Fedora"
BASEDOF="-"
DESCRIPTION="Innovative platform for hardware, clouds, and containers, built with love by you"
HOMEPAGE="https://www.fedoraproject.org"
CREDENTIALS="-"


RELEASES="42_Beta 41 40 39"
EDITIONS="i3 Xfce Workstation Sway Silverblue Server Sericea Onyx MiracleWM Mate LXQt LXDE Kinoite KDE_Mobile KDE Cinnamon COSMIC Budgie"

function releases_() {
    #shellcheck disable=SC2046,SC2005
    echo $(web_pipe "https://getfedora.org/releases.json" | jq -r 'map(.version) | unique | .[]' | sed 's/ /_/g' | sort -r)
}

function editions_() {
    #shellcheck disable=SC2046,SC2005
    if [[ -z ${RELEASE} ]]; then
          echo $(web_pipe "https://getfedora.org/releases.json" | jq -r "map(select(.arch==\"x86_64\" and .variant!=\"Labs\" and .variant!=\"IoT\" and .variant!=\"Container\" and .variant!=\"Cloud\" and .variant!=\"Everything\"  and .subvariant!=\"Security\" and .subvariant!=\"Server_KVM\" and .subvariant!=\"SoaS\")) | map(.subvariant) | unique | .[]")
    else
        echo $(web_pipe "https://getfedora.org/releases.json" | jq -r "map(select(.arch==\"x86_64\" and .version==\"${RELEASE/_/ }\" and .variant!=\"Labs\" and .variant!=\"IoT\" and .variant!=\"Container\" and .variant!=\"Cloud\" and .variant!=\"Everything\"  and .subvariant!=\"Security\" and .subvariant!=\"Server_KVM\" and .subvariant!=\"SoaS\")) | map(.subvariant) | unique | .[]")
    fi
}

function get_() {
    local HASH=""
    local ISO=""
    local JSON=""
    local URL=""
    local VARIANT=""
    case ${EDITION} in
        Server|Kinoite|Onyx|Silverblue|Sericea|Workstation) VARIANT="${EDITION}";;
        *) VARIANT="Spins";;
    esac
    # The naming of 41 Beta with a space is problematic so we replaced it with an underscore
    # but we need to convert it back to a space for the URL search in the JSON
    #shellcheck disable=SC2086
    # if RELEASE contains an underscore, replace it with a space
     if [[ "${RELEASE}" == *"_"* ]]; then
        RELEASE="${RELEASE/_/ }"
    fi

    # shellcheck disable=SC2086
    JSON=$(web_pipe "https://getfedora.org/releases.json" | jq '.[] | select(.variant=="'${VARIANT}'" and .subvariant=="'"${EDITION}"'" and .arch=="x86_64" and .version=="'"${RELEASE}"'" and (.link | endswith(".iso")))')
    URL=$(echo "${JSON}" | jq -r '.link' | head -n1)
    HASH=$(echo "${JSON}" | jq -r '.sha256' | head -n1)
    echo "${URL} ${HASH}"
}


